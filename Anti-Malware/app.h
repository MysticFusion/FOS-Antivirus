#ifndef APP_H
#define APP_H
#include <gtk/gtk.h>
#include <stdbool.h>

typedef struct {
    GtkWidget *window;
    GtkWidget *sidebar;
    GtkWidget *stack;       
    GtkWidget *progress_bar;
    GtkWidget *progress_label;
    GtkWidget *result_files_label;
    GtkWidget *result_threats_label;
    GtkWidget *history_list_box; 
    GtkWidget *last_update_label; 
    GList *sidebar_labels; 
    GtkCssProvider *css_provider;
    gboolean is_dark_mode;
    gboolean is_sidebar_collapsed; 
} AppState;

extern gboolean auto_update_enabled;
extern char last_update_time[64];

void app_activate(GtkApplication *app);
void update_theme(AppState *app);
void save_settings(void);
void load_settings(void);

#endif